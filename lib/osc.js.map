{"version":3,"file":null,"sources":["../../../../../\u0000babelHelpers","../src/entity.js","../src/utils.js","../src/helpers.js","../src/atomic.js","../src/atomic/int32.js","../src/atomic/float32.js","../src/atomic/string.js","../src/atomic/blob.js","../src/message.js","../src/atomic/timetag.js","../src/bundle.js","../src/packet.js"],"sourcesContent":["var babelHelpers = {};\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nexport var jsx = function () {\n  var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  return function createRawReactElement(type, props, key, children) {\n    var defaultProps = type && type.defaultProps;\n    var childrenLength = arguments.length - 3;\n\n    if (!props && childrenLength !== 0) {\n      props = {};\n    }\n\n    if (props && defaultProps) {\n      for (var propName in defaultProps) {\n        if (props[propName] === void 0) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    } else if (!props) {\n      props = defaultProps || {};\n    }\n\n    if (childrenLength === 1) {\n      props.children = children;\n    } else if (childrenLength > 1) {\n      var childArray = Array(childrenLength);\n\n      for (var i = 0; i < childrenLength; i++) {\n        childArray[i] = arguments[i + 3];\n      }\n\n      props.children = childArray;\n    }\n\n    return {\n      $$typeof: REACT_ELEMENT_TYPE,\n      type: type,\n      key: key === undefined ? null : '' + key,\n      ref: null,\n      props: props,\n      _owner: null\n    };\n  };\n}();\n\nexport var asyncIterator = function (iterable) {\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      var method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      return iterable[Symbol.iterator]();\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n};\n\nexport var asyncGenerator = function () {\n  function AwaitValue(value) {\n    this.value = value;\n  }\n\n  function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n\n        if (value instanceof AwaitValue) {\n          Promise.resolve(value.value).then(function (arg) {\n            resume(\"next\", arg);\n          }, function (arg) {\n            resume(\"throw\", arg);\n          });\n        } else {\n          settle(result.done ? \"return\" : \"normal\", result.value);\n        }\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n    AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  return {\n    wrap: function (fn) {\n      return function () {\n        return new AsyncGenerator(fn.apply(this, arguments));\n      };\n    },\n    await: function (value) {\n      return new AwaitValue(value);\n    }\n  };\n}();\n\nexport var asyncGeneratorDelegate = function (inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n};\n\nexport var asyncToGenerator = function (fn) {\n  return function () {\n    var gen = fn.apply(this, arguments);\n    return new Promise(function (resolve, reject) {\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          return Promise.resolve(value).then(function (value) {\n            step(\"next\", value);\n          }, function (err) {\n            step(\"throw\", err);\n          });\n        }\n      }\n\n      return step(\"next\");\n    });\n  };\n};\n\nexport var classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nexport var createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nexport var defineEnumerableProperties = function (obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  return obj;\n};\n\nexport var defaults = function (obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n};\n\nexport var defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexport var get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nexport var inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar _instanceof = function (left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n};\n\nexport var interopRequireDefault = function (obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n};\n\nexport var interopRequireWildcard = function (obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n};\n\nexport var newArrowCheck = function (innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n};\n\nexport var objectDestructuringEmpty = function (obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n};\n\nexport var objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nexport var possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nexport var selfGlobal = typeof global === \"undefined\" ? self : global;\n\nexport var set = function set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n};\n\nexport var slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nexport var slicedToArrayLoose = function (arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n};\n\nexport var taggedTemplateLiteral = function (strings, raw) {\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n};\n\nexport var taggedTemplateLiteralLoose = function (strings, raw) {\n  strings.raw = raw;\n  return strings;\n};\n\nexport var temporalRef = function (val, name, undef) {\n  if (val === undef) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n};\n\nexport var temporalUndefined = {};\n\nexport var toArray = function (arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n};\n\nexport var toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nbabelHelpers;\n\nexport { _typeof as typeof, _extends as extends, _instanceof as instanceof }","export default class Entity {\n  constructor(value) {\n    this.value = value\n    this.offset = 0\n  }\n}\n","export function isInt(n) {\n  return Number(n) === n && n % 1 === 0\n}\n\nexport function isFloat(n) {\n  return Number(n) === n && n % 1 !== 0\n}\n\nexport function isString(n) {\n  return typeof n === 'string'\n}\n\nexport function isArray(n) {\n  return Object.prototype.toString.call(n) === '[object Array]'\n}\n\nexport function isBlob(n) {\n  return n instanceof Uint8Array\n}\n\nexport function pad(n) {\n  return (n + 3) & ~0x03\n}\n","import { isArray, isInt, isFloat, isString, isBlob } from './utils'\n\nexport function typeChar(item) {\n  if (isInt(item)) {\n    return 'i'\n  } else if (isFloat(item)) {\n    return 'f'\n  } else if (isString(item)) {\n    return 's'\n  } else if (isBlob(item)) {\n    return 'b'\n  }\n\n  throw new Error('OSC Message found unknown value type.')\n}\n\nexport function prepareAddress(obj) {\n  let address = ''\n\n  if (isArray(obj)) {\n    return `/${obj.join('/')}`\n  } else if (isString(obj)) {\n    address = obj\n    if (address.length > 1 && address[address.length - 1] === '/') {\n      address = address.slice(0, address.length - 1)\n    }\n    if (address.length > 1 && address[0] !== '/') {\n      address = `/${address}`\n    }\n    return address\n  }\n\n  throw new Error('OSC Helpers can only prepare addresses which are Array of String.')\n}\n\nexport default class Helper {\n  constructor() {\n    this.data = []\n    this.byteLength = 0\n  }\n\n  add(item) {\n    const buffer = item.pack()\n    this.byteLength += buffer.byteLength\n    this.data.push(buffer)\n    return this\n  }\n\n  merge() {\n    const result = new Uint8Array(this.byteLength)\n    let offset = 0\n\n    this.data.forEach((data) => {\n      result.set(data, offset)\n      offset += data.byteLength\n    })\n\n    return result\n  }\n}\n","import Entity from './entity'\n\nexport default class Atomic extends Entity {\n  pack(type, byteLength) {\n    const data = new Uint8Array(byteLength)\n    const dataView = new DataView(data.buffer)\n\n    if (!this.value) {\n      throw new Error('OSC Atomic can not be encoded with empty value.')\n    }\n\n    dataView[type](this.offset, this.value, false)\n\n    return data\n  }\n\n  unpack(dataView, type, byteLength, offset) {\n    this.value = dataView[type](offset, false)\n    this.offset = offset + byteLength\n    return this.offset\n  }\n}\n","import { isInt } from '../utils'\n\nimport Atomic from '../atomic'\n\nexport default class AtomicInt32 extends Atomic {\n  constructor(value) {\n    if (value && !isInt(value)) {\n      throw new Error('OSC AtomicInt32 constructor expects value of type integer number.')\n    }\n\n    super(value)\n  }\n\n  pack() {\n    return super.pack('setInt32', 4)\n  }\n\n  unpack(dataView, offset) {\n    return super.unpack(dataView, 'getInt32', 4, offset)\n  }\n}\n","import { isFloat } from '../utils'\n\nimport Atomic from '../atomic'\n\nexport default class AtomicFloat32 extends Atomic {\n  constructor(value) {\n    if (value && !isFloat(value)) {\n      throw new Error('OSC AtomicFloat32 constructor expects value of type float number.')\n    }\n\n    super(value)\n  }\n\n  pack() {\n    return super.pack('setFloat32', 4)\n  }\n\n  unpack(dataView, offset) {\n    return super.unpack(dataView, 'getFloat32', 4, offset)\n  }\n}\n","import { pad } from '../utils'\n\nimport Atomic from '../atomic'\n\nexport default class AtomicString extends Atomic {\n  constructor(value) {\n    if (value && typeof value !== 'string') {\n      throw new Error('OSC AtomicString constructor expects value of type string.')\n    }\n\n    super(value)\n  }\n\n  pack() {\n    if (!this.value) {\n      throw new Error('OSC AtomicString can not be encoded with empty value.')\n    }\n\n    const terminated = `${this.value}\\u0000`\n    const byteLength = pad(terminated.length)\n    const buffer = new Uint8Array(byteLength)\n\n    for (let i = 0; i < terminated.length; i += 1) {\n      buffer[i] = terminated.charCodeAt(i)\n    }\n\n    return buffer\n  }\n\n  unpack(dataView, offset) {\n    let end = offset\n    let charcode\n    const data = []\n\n    for (; end < dataView.byteLength; end += 1) {\n      charcode = dataView.getUint8(end)\n\n      if (charcode !== 0) {\n        data.push(charcode)\n      } else {\n        end += 1\n        break\n      }\n    }\n\n    if (end === dataView.length) {\n      throw new Error('OSC AtomicString found a malformed OSC string.')\n    }\n\n    this.offset = pad(end)\n    this.value = String.fromCharCode.apply(null, data)\n\n    return this.offset\n  }\n}\n","import { isBlob, pad } from '../utils'\n\nimport Atomic from '../atomic'\n\nexport default class AtomicBlob extends Atomic {\n  constructor(value) {\n    if (value && !isBlob(value)) {\n      throw new Error('OSC AtomicBlob constructor expects value of type Uint8Array.')\n    }\n\n    super(value)\n  }\n\n  pack() {\n    if (!this.value) {\n      throw new Error('OSC AtomicBlob can not be encoded with empty value.')\n    }\n\n    const byteLength = pad(this.value.byteLength)\n    const data = new Uint8Array(byteLength + 4)\n    const dataView = new DataView(data.buffer)\n\n    dataView.setInt32(0, this.value.byteLength, false)\n    data.set(this.value, 4)\n\n    return data\n  }\n\n  unpack(dataView, offset) {\n    const byteLength = dataView.getInt32(offset, false)\n\n    this.value = new Uint8Array(dataView.buffer, offset + 4, byteLength)\n    this.offset = pad(offset + 4 + byteLength)\n\n    return this.offset\n  }\n}\n","import { isString, isArray, isInt, isFloat, isBlob } from './utils'\n\nimport Helper, { typeChar, prepareAddress } from './helpers'\n\nimport AtomicInt32 from './atomic/int32'\nimport AtomicFloat32 from './atomic/float32'\nimport AtomicString from './atomic/string'\nimport AtomicBlob from './atomic/blob'\n\nexport default class Message {\n  constructor(...args) {\n    this.offset = 0\n    this.address = ''\n    this.types = ''\n    this.args = []\n    this.timetag = 0\n\n    if (args.length > 0) {\n      if (!(isString(args[0]) || isArray(args[0]))) {\n        throw new Error('OSC Message constructor first argument (address) must be a string or array.')\n      }\n\n      this.address = prepareAddress(args.shift())\n      this.types = args.map(item => typeChar(item)).join('')\n      this.args = args\n    }\n  }\n\n  add(value) {\n    if (!value) {\n      throw new Error('OSC Message expects a valid value for adding.')\n    }\n\n    this.args.push(value)\n    this.types += typeChar(value)\n  }\n\n  pack() {\n    if (this.address.length === 0 || this.address[0] !== '/') {\n      throw new Error('OSC Message does not have a proper address.')\n    }\n\n    const encoder = new Helper()\n\n    encoder.add(new AtomicString(this.address))\n    encoder.add(new AtomicString(`,${this.types}`))\n\n    if (this.args.length > 0) {\n      let argument\n\n      this.args.forEach((value) => {\n        if (isInt(value)) {\n          argument = new AtomicInt32(value)\n        } else if (isFloat(value)) {\n          argument = new AtomicFloat32(value)\n        } else if (isString(value)) {\n          argument = new AtomicString(value)\n        } else if (isBlob(value)) {\n          argument = new AtomicBlob(value)\n        } else {\n          throw new Error('OSC Message found unknown argument type.')\n        }\n\n        encoder.add(argument)\n      })\n    }\n\n    this.offset = encoder.byteLength\n\n    return encoder.merge()\n  }\n\n  unpack(dataView) {\n    const address = new AtomicString()\n    address.unpack(dataView, 0)\n\n    const types = new AtomicString()\n    types.unpack(dataView, address.offset)\n\n    if (address.value.length === 0 || address.value[0] !== '/') {\n      throw new Error('OSC Message found malformed or missing address string.')\n    }\n\n    if (types.value.length === 0 && types.value[0] !== ',') {\n      throw new Error('OSC Message found malformed or missing type string.')\n    }\n\n    let offset = types.offset\n    let next\n    let type\n\n    const args = []\n\n    for (let i = 1; i < types.value.length; i += 1) {\n      type = types.value[i]\n\n      if (type === 'i') {\n        next = new AtomicInt32()\n      } else if (type === 'f') {\n        next = new AtomicFloat32()\n      } else if (type === 's') {\n        next = new AtomicString()\n      } else if (type === 'b') {\n        next = new AtomicBlob()\n      } else {\n        throw new Error('OSC Message found non-standard argument type.')\n      }\n\n      offset = next.unpack(dataView, offset)\n      args.push(next.value)\n    }\n\n    this.address = address.value\n    this.types = types.value\n    this.args = args\n\n    return this\n  }\n}\n","import { isInt } from '../utils'\n\nimport Atomic from '../atomic'\n\nexport const SECONDS_70_YEARS = 2208988800\nexport const TWO_POWER_32 = 4294967296\n\nexport class Timetag {\n  constructor(seconds = 0, fractions = 0) {\n    if (!(isInt(seconds) && isInt(fractions))) {\n      throw new Error('OSC Timetag constructor expects values of type integer number.')\n    }\n\n    this.seconds = seconds\n    this.fractions = fractions\n  }\n\n  timestamp(milliseconds) {\n    let seconds\n\n    if (typeof milliseconds === 'number') {\n      seconds = milliseconds / 1000\n      const rounded = Math.floor(seconds)\n\n      this.seconds = rounded + SECONDS_70_YEARS\n      this.fractions = Math.round(TWO_POWER_32 * (seconds - rounded))\n\n      return milliseconds\n    }\n\n    seconds = this.seconds - SECONDS_70_YEARS\n    return (seconds + (this.fractions / TWO_POWER_32)) * 1000\n  }\n}\n\nexport default class AtomicTimetag extends Atomic {\n  constructor(value) {\n    if (value && !(value instanceof Timetag)) {\n      throw new Error('OSC AtomicTimetag constructor expects value of type Timetag.')\n    }\n\n    super(value)\n  }\n\n  pack() {\n    if (!this.value) {\n      throw new Error('OSC AtomicTimetag can not be encoded with empty value.')\n    }\n\n    const { seconds, fractions } = this.value\n    const data = new Uint8Array(8)\n    const dataView = new DataView(data.buffer)\n\n    dataView.setInt32(0, seconds, false)\n    dataView.setInt32(4, fractions, false)\n\n    return data\n  }\n\n  unpack(dataView, offset) {\n    const seconds = dataView.getUint32(offset, false)\n    const fractions = dataView.getUint32(offset + 4, false)\n\n    this.value = new Timetag(seconds, fractions)\n    this.offset += 8\n\n    return this.offset\n  }\n}\n","import EncodeHelper from './helpers'\n\nimport Packet from './packet'\nimport Message from './message'\nimport AtomicString from './atomic/string'\nimport AtomicInt32 from './atomic/int32'\nimport AtomicTimetag from './atomic/timetag'\n\nexport const BUNDLE_TAG = '#bundle'\n\nexport default class Bundle {\n  constructor(...args) {\n    this.offset = 0\n    this.timetag = new AtomicTimetag()\n    this.bundleElements = []\n\n    if (args.length > 0) {\n      if (args[0] instanceof AtomicTimetag) {\n        this.timetag = args.shift()\n      } else {\n        args.forEach((item) => {\n          this.add(item)\n        })\n      }\n    }\n  }\n\n  add(item) {\n    if (!(item instanceof Message || item instanceof Bundle)) {\n      throw new Error('OSC Bundle contains only Messages and Bundles')\n    }\n\n    this.bundleElements.push(item)\n  }\n\n  pack() {\n    const encoder = new EncodeHelper()\n\n    encoder.add(new AtomicString(BUNDLE_TAG))\n    encoder.add(this.timetag)\n\n    this.bundleElements.forEach((item) => {\n      item.pack()\n\n      encoder.add(new AtomicInt32(item.offset))\n      encoder.add(item)\n    })\n\n    return encoder.merge()\n  }\n\n  unpack(dataView, offset) {\n    const head = new AtomicString()\n    let end = head.unpack(dataView, offset)\n\n    if (head !== BUNDLE_TAG) {\n      throw new Error('OSC Bundle does not contain a valid #bundle head.')\n    }\n\n    const timetag = new AtomicTimetag()\n    end = timetag.unpack(dataView, end)\n\n    this.bundleElements = []\n\n    for (let i = 0; i < dataView.byteLength; i += 1) {\n      const packet = new Packet()\n      const size = new AtomicInt32()\n\n      end = size.unpack(dataView, end)\n      packet.unpack(dataView, end)\n\n      this.bundleElements.push(packet)\n    }\n\n    this.offset = end\n    this.timetag = timetag\n\n    return end\n  }\n}\n","import Entity from './entity'\nimport Bundle, { BUNDLE_TAG } from './bundle'\nimport Message from './message'\nimport AtomicString from './atomic/string'\n\nexport default class Packet extends Entity {\n  constructor(value) {\n    if (value && !(value instanceof Message || value instanceof Bundle)) {\n      throw new Error('OSC Packet can only consist of Message or Bundle.')\n    }\n    super(value)\n  }\n\n  pack() {\n    if (!this.value) {\n      throw new Error('OSC Packet cant be encoded with empty body.')\n    }\n\n    return this.value.pack()\n  }\n\n  unpack(dataView, timetag) {\n    if (dataView.byteLength % 4 !== 0) {\n      throw new Error('OSC Packet byteLength has to be a multiple of four.')\n    }\n\n    const head = new AtomicString()\n    head.unpack(dataView, 0)\n\n    let item\n\n    if (head.value === BUNDLE_TAG) {\n      item = new Bundle()\n    } else {\n      item = new Message()\n      if (timetag) {\n        item.timetag = timetag\n      }\n    }\n\n    item.unpack(dataView)\n\n    return item\n  }\n}\n"],"names":["Entity","value","offset","isInt","n","Number","isFloat","isString","isArray","Object","prototype","toString","call","isBlob","Uint8Array","pad","typeChar","item","Error","prepareAddress","obj","address","join","length","slice","Helper","data","byteLength","buffer","pack","push","result","forEach","set","Atomic","type","dataView","DataView","AtomicInt32","AtomicFloat32","AtomicString","terminated","i","charCodeAt","end","charcode","getUint8","String","fromCharCode","apply","AtomicBlob","setInt32","getInt32","Message","types","args","timetag","shift","map","encoder","add","argument","merge","unpack","next","SECONDS_70_YEARS","TWO_POWER_32","Timetag","seconds","fractions","milliseconds","rounded","Math","floor","round","AtomicTimetag","getUint32","BUNDLE_TAG","Bundle","bundleElements","EncodeHelper","head","packet","Packet","size"],"mappings":"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"}