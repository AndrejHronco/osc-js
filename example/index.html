<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>osc-js</title>
    <script src="osc.js" type="text/javascript"></script>
    <script type="text/javascript">

      var osc;

      function init() {
        osc = new OSC();

        osc.on('open', function(cEvent) {
          console.log('ready', cEvent);
          console.log('STATUS', osc.status() === osc.SOCKET.IS_OPEN);
        });

        osc.on('error', function(cEvent) {
          console.log('error', cEvent);
          console.log('STATUS', osc.status());
        });

        // listen to osc address

        var listener = osc.on('/', function(cMessage) {
          console.log(cMessage.arguments[0], cMessage.addressString);
        });

        osc.off('/', listener);

        osc.on('/test', function(cMessage) {
          console.log(cMessage.arguments[0], cMessage.addressString);
        });

        osc.server('127.0.0.1', 8000);
      }

    </script>
  </head>
  <body onload="init()">
    <h1>osc-js</h1>
  </body>
</html>
